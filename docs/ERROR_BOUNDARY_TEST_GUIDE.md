# 에러 바운더리 테스트 가이드

이 문서는 ErrorBoundary 컴포넌트의 동작을 테스트하는 가이드를 제공합니다.

## 📋 목차

1. [에러 바운더리 기본 테스트](#에러-바운더리-기본-테스트)
2. [동기 에러 테스트](#동기-에러-테스트)
3. [비동기 에러 테스트](#비동기-에러-테스트)
4. [에러 복구 테스트](#에러-복구-테스트)

---

## 에러 바운더리 기본 테스트

### 테스트 항목: 의도적 에러 발생 시 에러 바운더리 동작 확인

#### 1. 에러 바운더리 테스트 페이지 접속

**절차:**
1. 로그인 후 `/test/error-boundary` 페이지 접속
2. 페이지 내용 확인

**예상 결과:**
- ✅ 테스트 페이지가 정상적으로 로드됨
- ✅ 테스트 항목 설명이 표시됨
- ✅ 에러 발생 버튼이 표시됨

#### 2. 동기 에러 발생 테스트

**절차:**
1. "에러 발생시키기" 버튼 클릭
2. 에러 바운더리 동작 확인

**예상 결과:**
- ✅ ErrorBoundary가 에러를 잡음
- ✅ 사용자 친화적인 에러 메시지 표시:
  - "오류가 발생했습니다" 제목
  - 설명 메시지
  - "다시 시도" 버튼
  - "페이지 새로고침" 버튼
- ✅ 개발 환경에서는 에러 상세 정보 표시
- ✅ 프로덕션 환경에서는 에러 상세 정보 숨김

#### 3. 에러 메시지 확인

**절차:**
1. 에러 발생 후 표시되는 메시지 확인
2. 개발 환경과 프로덕션 환경에서 차이 확인

**예상 결과:**
- ✅ 개발 환경 (`NODE_ENV=development`):
  - 에러 상세 정보 박스 표시
  - 에러 메시지가 표시됨
- ✅ 프로덕션 환경:
  - 에러 상세 정보 숨김
  - 사용자 친화적인 메시지만 표시

---

## 동기 에러 테스트

### 1. 렌더링 중 에러 발생

**절차:**
1. 컴포넌트 렌더링 중 에러가 발생하도록 설정
2. ErrorBoundary가 에러를 잡는지 확인

**예상 결과:**
- ✅ ErrorBoundary가 에러를 잡음
- ✅ Fallback UI가 표시됨
- ✅ 원래 컴포넌트는 렌더링되지 않음

### 2. 자식 컴포넌트 에러

**절차:**
1. ErrorBoundary로 감싼 자식 컴포넌트에서 에러 발생
2. ErrorBoundary 동작 확인

**예상 결과:**
- ✅ 자식 컴포넌트의 에러가 ErrorBoundary에 의해 잡힘
- ✅ 에러가 상위로 전파되지 않음
- ✅ 애플리케이션이 크래시하지 않음

---

## 비동기 에러 테스트

### 1. 비동기 에러는 ErrorBoundary가 잡지 못함

**절차:**
1. "비동기 에러 발생시키기" 버튼 클릭
2. 에러 처리 확인

**예상 결과:**
- ✅ ErrorBoundary가 비동기 에러를 잡지 못함
- ✅ Toast 메시지로 에러 알림 표시
- ✅ 콘솔에 에러 로그 출력
- ✅ try-catch로 에러가 처리됨

### 2. 이벤트 핸들러 에러

**절차:**
1. 버튼 클릭 등 이벤트 핸들러에서 에러 발생
2. 에러 처리 확인

**예상 결과:**
- ✅ ErrorBoundary가 이벤트 핸들러 에러를 잡지 못함
- ✅ try-catch로 에러 처리 필요
- ✅ Toast 메시지 또는 다른 방식으로 사용자에게 알림

---

## 에러 복구 테스트

### 1. "다시 시도" 버튼 테스트

**절차:**
1. 에러 발생 후 "다시 시도" 버튼 클릭
2. 상태 확인

**예상 결과:**
- ✅ ErrorBoundary의 상태가 초기화됨
- ✅ 에러 상태가 해제됨
- ✅ 원래 컴포넌트가 다시 렌더링 시도
- ✅ 에러가 해결되었다면 정상 작동

### 2. "페이지 새로고침" 버튼 테스트

**절차:**
1. 에러 발생 후 "페이지 새로고침" 버튼 클릭
2. 페이지 상태 확인

**예상 결과:**
- ✅ 페이지가 새로고침됨
- ✅ 애플리케이션이 초기 상태로 복귀
- ✅ 에러 상태가 초기화됨

---

## 전역 에러 바운더리 테스트

### 1. 앱 레벨 에러 바운더리 확인

**절차:**
1. `app/layout.tsx`에서 ErrorBoundary 적용 확인
2. 주요 페이지에서 에러 발생 시도

**예상 결과:**
- ✅ `app/layout.tsx`에 ErrorBoundary가 적용됨
- ✅ 모든 페이지의 에러가 전역 ErrorBoundary에 의해 잡힘
- ✅ 에러 발생 시 일관된 UI 표시

### 2. 컴포넌트 레벨 에러 바운더리

**절차:**
1. 특정 컴포넌트를 ErrorBoundary로 감싸기
2. 해당 컴포넌트에서만 에러 발생

**예상 결과:**
- ✅ 해당 컴포넌트의 에러만 잡힘
- ✅ 나머지 앱은 정상 작동
- ✅ 부분적 에러 복구 가능

---

## ✅ 테스트 체크리스트

- [ ] 에러 바운더리 테스트 페이지 접속 확인
- [ ] 동기 에러 발생 시 ErrorBoundary가 에러를 잡는지 확인
- [ ] 에러 발생 시 사용자 친화적인 메시지 표시 확인
- [ ] 개발 환경에서 에러 상세 정보 표시 확인
- [ ] 프로덕션 환경에서 에러 상세 정보 숨김 확인
- [ ] "다시 시도" 버튼 동작 확인
- [ ] "페이지 새로고침" 버튼 동작 확인
- [ ] 비동기 에러는 ErrorBoundary가 잡지 못함 확인
- [ ] 전역 ErrorBoundary 적용 확인
- [ ] 컴포넌트 레벨 ErrorBoundary 동작 확인

---

## 📝 테스트 결과 기록

**테스트 날짜:** _______________

**테스터:** _______________

**전체 테스트 결과:**
- [ ] 모든 테스트 통과
- [ ] 일부 테스트 실패 (이슈 섹션에 기록)

**비고:**
_________________________________________________
_________________________________________________

---

**마지막 업데이트:** 2024년


