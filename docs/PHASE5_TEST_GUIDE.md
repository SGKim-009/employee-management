# Phase 5 테스트 가이드

이 문서는 Phase 5의 테스트, 문서화, CI/CD에 대한 테스트 가이드를 제공합니다.

## 📋 목차

1. [단위/통합/E2E 테스트](#단위통합e2e-테스트)
2. [CI/CD 파이프라인 테스트](#cicd-파이프라인-테스트)
3. [환경별 배포 테스트](#환경별-배포-테스트)

---

## 단위/통합/E2E 테스트

### 테스트 항목: `npm test` 실행 및 커버리지 확인

#### 1. 단위 테스트 실행

**절차:**
1. 터미널에서 `npm test` 실행
2. 테스트 결과 확인

**예상 결과:**
- ✅ 모든 테스트가 통과
- ✅ 테스트 실행 시간이 합리적
- ✅ 실패한 테스트가 없음

#### 2. 테스트 커버리지 확인

**절차:**
1. 터미널에서 `npm run test:coverage` 실행
2. 커버리지 리포트 확인

**예상 결과:**
- ✅ 전체 커버리지가 50% 이상
- ✅ 주요 유틸리티 함수 커버리지가 높음
- ✅ 커버리지 리포트가 생성됨 (`coverage/` 폴더)

#### 3. 통합 테스트 실행 확인

**절차:**
1. API 통합 테스트 실행
2. 데이터베이스 통합 테스트 실행
3. 결과 확인

**예상 결과:**
- ✅ API 엔드포인트가 정상 작동
- ✅ 데이터베이스 쿼리가 정상 작동
- ✅ 에러 핸들링이 적절함

#### 4. E2E 테스트 실행 확인

**절차:**
1. Playwright 테스트 실행
2. 주요 사용자 플로우 테스트 확인

**예상 결과:**
- ✅ 직원 등록 플로우 테스트 통과
- ✅ 직원 수정 플로우 테스트 통과
- ✅ 직원 삭제 플로우 테스트 통과
- ✅ 브라우저에서 실제 동작 확인

---

## CI/CD 파이프라인 테스트

### 테스트 항목: CI/CD 파이프라인 실행 확인

#### 1. GitHub Actions 워크플로우 확인

**절차:**
1. GitHub 저장소의 Actions 탭 확인
2. 최근 워크플로우 실행 기록 확인
3. 각 워크플로우 상태 확인:
   - CI (코드 품질 체크)
   - Test (테스트 실행)
   - Deploy (배포)

**예상 결과:**
- ✅ 모든 워크플로우가 성공적으로 실행됨
- ✅ 실패한 워크플로우가 없음
- ✅ 실행 시간이 합리적

#### 2. 자동 테스트 실행 확인

**절차:**
1. 코드 변경 후 GitHub에 푸시
2. GitHub Actions에서 자동 테스트 실행 확인

**예상 결과:**
- ✅ 푸시 시 자동으로 테스트 실행
- ✅ Pull Request 생성 시 자동으로 테스트 실행
- ✅ 테스트 실패 시 알림 표시

#### 3. 자동 빌드 확인

**절차:**
1. 코드 변경 후 GitHub에 푸시
2. GitHub Actions에서 자동 빌드 실행 확인

**예상 결과:**
- ✅ 푸시 시 자동으로 빌드 실행
- ✅ 빌드가 성공적으로 완료
- ✅ 빌드 아티팩트 생성 (선택사항)

#### 4. 자동 배포 확인

**절차:**
1. `main` 브랜치에 푸시
2. GitHub Actions에서 자동 배포 실행 확인
3. Vercel 대시보드에서 배포 상태 확인

**예상 결과:**
- ✅ `main` 브랜치 푸시 시 프로덕션 배포
- ✅ `staging` 또는 `develop` 브랜치 푸시 시 스테이징 배포
- ✅ 배포가 성공적으로 완료
- ✅ 배포 URL이 생성됨

---

## 환경별 배포 테스트

### 테스트 항목: 각 환경 배포 확인

#### 1. 개발 환경 확인

**절차:**
1. 로컬 환경에서 `npm run dev` 실행
2. 환경 변수 확인 (`.env.local`)
3. 기능 동작 확인

**예상 결과:**
- ✅ 개발 서버가 정상 실행됨 (포트 3000)
- ✅ 환경 변수가 올바르게 로드됨
- ✅ 모든 기능이 정상 작동
- ✅ Hot reload가 작동함

#### 2. 스테이징 환경 확인

**절차:**
1. Vercel 대시보드에서 스테이징 환경 확인
2. 스테이징 URL 접속
3. 기능 동작 확인

**예상 결과:**
- ✅ 스테이징 환경이 배포됨
- ✅ 스테이징 환경 변수가 올바르게 설정됨
- ✅ 모든 기능이 정상 작동
- ✅ 프로덕션과 동일한 환경

#### 3. 프로덕션 환경 확인

**절차:**
1. Vercel 대시보드에서 프로덕션 환경 확인
2. 프로덕션 URL 접속
3. 기능 동작 확인

**예상 결과:**
- ✅ 프로덕션 환경이 배포됨
- ✅ 프로덕션 환경 변수가 올바르게 설정됨
- ✅ 모든 기능이 정상 작동
- ✅ 성능이 최적화됨
- ✅ 에러가 발생하지 않음

#### 4. 환경 변수 확인

**절차:**
1. 각 환경의 환경 변수 설정 확인:
   - 개발: `.env.local`
   - 스테이징: Vercel 스테이징 환경 변수
   - 프로덕션: Vercel 프로덕션 환경 변수
2. 필수 환경 변수 확인

**예상 결과:**
- ✅ 모든 필수 환경 변수가 설정됨
- ✅ 환경별로 올바른 값이 설정됨
- ✅ 환경 변수 누락 시 적절한 오류 메시지 표시

---

### 테스트 항목: 자동 배포 동작 확인

#### 1. 자동 배포 트리거 확인

**절차:**
1. `main` 브랜치에 푸시
2. GitHub Actions 워크플로우 실행 확인
3. Vercel 배포 시작 확인

**예상 결과:**
- ✅ 푸시 시 자동으로 배포 워크플로우 실행
- ✅ 배포가 자동으로 시작됨
- ✅ 배포 상태가 GitHub Actions에 표시됨

#### 2. 롤백 기능 확인

**절차:**
1. Vercel 대시보드에서 이전 배포 확인
2. 롤백 워크플로우 실행 (GitHub Actions)
3. 롤백 결과 확인

**예상 결과:**
- ✅ 이전 배포로 롤백 가능
- ✅ 롤백이 성공적으로 완료
- ✅ 롤백 후 애플리케이션이 정상 작동

#### 3. 배포 알림 확인

**절차:**
1. 배포 완료 후 알림 확인
2. 배포 URL 확인

**예상 결과:**
- ✅ 배포 완료 알림 수신 (선택사항)
- ✅ 배포 URL이 GitHub Actions에 표시됨
- ✅ 배포 로그가 확인 가능

---

## ✅ 테스트 체크리스트

### 단위/통합/E2E 테스트
- [ ] `npm test` 실행 및 결과 확인
- [ ] 테스트 커버리지 확인 (50% 이상)
- [ ] 통합 테스트 실행 확인
- [ ] E2E 테스트 실행 확인

### CI/CD 파이프라인
- [ ] GitHub Actions 워크플로우 확인
- [ ] 자동 테스트 실행 확인
- [ ] 자동 빌드 확인
- [ ] 자동 배포 확인

### 환경별 배포
- [ ] 개발 환경 확인
- [ ] 스테이징 환경 확인
- [ ] 프로덕션 환경 확인
- [ ] 환경 변수 확인
- [ ] 자동 배포 트리거 확인
- [ ] 롤백 기능 확인
- [ ] 배포 알림 확인

---

## 📝 테스트 결과 기록

**테스트 날짜:** _______________

**테스터:** _______________

**전체 테스트 결과:**
- [ ] 모든 테스트 통과
- [ ] 일부 테스트 실패 (이슈 섹션에 기록)

**비고:**
_________________________________________________
_________________________________________________

---

**마지막 업데이트:** 2024년



