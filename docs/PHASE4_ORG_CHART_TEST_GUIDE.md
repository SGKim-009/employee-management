# Phase 4.1 조직도 테스트 가이드

이 문서는 조직도 기능의 테스트 가이드를 제공합니다.

## 📋 목차

1. [조직도 렌더링 테스트](#조직도-렌더링-테스트)
2. [보고 체계 관리 테스트](#보고-체계-관리-테스트)
3. [인터랙션 테스트](#인터랙션-테스트)

---

## 조직도 렌더링 테스트

### 테스트 항목: 조직도 렌더링 및 인터랙션 확인

#### 1. 조직도 페이지 접속

**절차:**
1. 로그인 후 네비게이션에서 "조직도" 메뉴 클릭
2. `/org-chart` 페이지 접속 확인

**예상 결과:**
- ✅ 조직도 페이지가 정상적으로 로드됨
- ✅ 헤더에 "조직도" 제목 표시
- ✅ "새로고침" 버튼 표시
- ✅ 루트 노드 선택 드롭다운 표시 (상급자가 없는 직원이 있는 경우)

#### 2. 기본 조직도 렌더링

**절차:**
1. 직원 데이터가 있는 상태에서 조직도 페이지 접속
2. 조직도 구조 확인

**예상 결과:**
- ✅ 조직도가 트리 구조로 표시됨
- ✅ 각 노드에 직원 정보 표시:
  - 프로필 이미지 (또는 기본 아이콘)
  - 이름
  - 직책
  - 부서
- ✅ 상급자-하급자 관계가 올바르게 표시됨
- ✅ `manager_id`가 없는 직원이 루트 노드로 표시됨

#### 3. 빈 조직도 처리

**절차:**
1. 직원 데이터가 없는 상태에서 조직도 페이지 접속

**예상 결과:**
- ✅ "조직도 데이터가 없습니다" 메시지 표시
- ✅ 안내 메시지 표시

#### 4. 루트 노드 선택

**절차:**
1. 루트 노드 선택 드롭다운에서 특정 직원 선택
2. 조직도 구조 변경 확인

**예상 결과:**
- ✅ 선택한 직원이 루트 노드로 표시됨
- ✅ 해당 직원의 하위 직원들만 표시됨
- ✅ "전체 조직도" 옵션으로 모든 직원 표시 가능

---

## 보고 체계 관리 테스트

### 테스트 항목: 보고 체계 관리 기능 확인

#### 1. 상급자 지정 (직원 추가 시)

**절차:**
1. 직원 추가 폼 열기
2. 기본 정보 탭에서 "상급자 (직속 상사)" 드롭다운 확인
3. 상급자 선택
4. 직원 저장

**예상 결과:**
- ✅ 상급자 드롭다운에 재직 중인 직원 목록 표시
- ✅ 자기 자신은 목록에서 제외됨
- ✅ "상급자 없음" 옵션 선택 가능
- ✅ 선택한 상급자가 저장됨

#### 2. 상급자 수정 (직원 수정 시)

**절차:**
1. 기존 직원 수정 폼 열기
2. 상급자 드롭다운에서 현재 상급자 확인
3. 다른 상급자로 변경
4. 저장

**예상 결과:**
- ✅ 현재 상급자가 드롭다운에 선택되어 표시됨
- ✅ 상급자 변경 가능
- ✅ 변경 사항이 저장됨

#### 3. 상급자 제거

**절차:**
1. 직원 수정 폼 열기
2. 상급자 드롭다운에서 "상급자 없음" 선택
3. 저장

**예상 결과:**
- ✅ 상급자가 제거됨
- ✅ 조직도에서 해당 직원이 루트 노드로 표시됨

#### 4. 순환 참조 방지

**절차:**
1. 직원 A의 상급자를 직원 B로 설정
2. 직원 B의 상급자를 직원 A로 설정 시도

**예상 결과:**
- ⚠️ 현재는 클라이언트 레벨에서만 방지 (자기 자신 제외)
- ⚠️ 데이터베이스 레벨 순환 참조 방지는 향후 구현 필요
- ✅ 기본적으로 자기 자신을 상급자로 선택할 수 없음

---

## 인터랙션 테스트

### 1. 직원 정보 툴팁

**절차:**
1. 조직도에서 직원 카드에 마우스 호버
2. 툴팁 표시 확인

**예상 결과:**
- ✅ 호버 시 툴팁 표시:
  - 이메일
  - 전화번호 (있는 경우)
- ✅ 툴팁이 카드 하단에 표시됨
- ✅ 다크 모드에서도 정상 표시

### 2. 새로고침 기능

**절차:**
1. 다른 탭에서 직원 정보 수정 (상급자 변경 등)
2. 조직도 페이지로 돌아와서 "새로고침" 버튼 클릭

**예상 결과:**
- ✅ 최신 데이터로 조직도가 업데이트됨
- ✅ 변경된 보고 체계가 반영됨

### 3. 반응형 레이아웃

**절차:**
1. 다양한 화면 크기에서 조직도 확인:
   - 모바일 (320px ~ 768px)
   - 태블릿 (768px ~ 1024px)
   - 데스크톱 (1024px 이상)

**예상 결과:**
- ✅ 모든 화면 크기에서 조직도가 정상 표시됨
- ✅ 가로 스크롤이 필요한 경우 스크롤 가능
- ✅ 직원 카드가 적절한 크기로 표시됨

### 4. 다크 모드 지원

**절차:**
1. 다크 모드로 전환
2. 조직도 페이지 확인

**예상 결과:**
- ✅ 다크 모드에서 조직도가 정상 표시됨
- ✅ 색상 대비가 적절함
- ✅ 모든 텍스트와 배경이 가독성 있게 표시됨

---

## ✅ 테스트 체크리스트

### 조직도 렌더링
- [ ] 조직도 페이지 접속 확인
- [ ] 기본 조직도 렌더링 확인
- [ ] 빈 조직도 처리 확인
- [ ] 루트 노드 선택 기능 확인

### 보고 체계 관리
- [ ] 직원 추가 시 상급자 지정 확인
- [ ] 직원 수정 시 상급자 변경 확인
- [ ] 상급자 제거 확인
- [ ] 순환 참조 방지 확인 (기본)

### 인터랙션
- [ ] 직원 정보 툴팁 표시 확인
- [ ] 새로고침 기능 확인
- [ ] 반응형 레이아웃 확인
- [ ] 다크 모드 지원 확인

---

## 📝 테스트 결과 기록

**테스트 날짜:** _______________

**테스터:** _______________

**전체 테스트 결과:**
- [ ] 모든 테스트 통과
- [ ] 일부 테스트 실패 (이슈 섹션에 기록)

**비고:**
_________________________________________________
_________________________________________________

---

## 🔧 알려진 제한사항

1. **순환 참조 방지**: 현재는 클라이언트 레벨에서만 자기 자신을 상급자로 선택할 수 없도록 제한합니다. 데이터베이스 레벨의 순환 참조 방지는 향후 구현 예정입니다.

2. **대량 데이터**: 직원 수가 매우 많은 경우 (1000명 이상) 조직도 렌더링 성능이 저하될 수 있습니다. 향후 가상화(virtualization) 또는 페이지네이션을 고려할 수 있습니다.

---

**마지막 업데이트:** 2024년


